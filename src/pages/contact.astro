---
import Layout from '../layouts/Layout.astro';
import StarryBackground from '../components/StarryBackground.astro';
import HudHeader from '../components/HudHeader.astro';
import ContactInfoBar from '../components/ContactInfoBar.astro';
import BackgroundHUD from '../components/BackgroundHUD.astro';
import Form from '../components/Form.astro';
import CadreContactSvg from '../assets/svg/cadre_contact.svg?raw';
import EarthWhiteSvg from '../assets/svg/earthwhite.svg?raw';
---

<Layout title="Contact - Andrea Mestre">
	<StarryBackground />
	<HudHeader />
	<BackgroundHUD />
	
	<main class="min-h-screen pt-32 pb-16 px-8 relative z-10 flex justify-center items-center">

		<div class="w-full max-w-6xl relative p-8">
			<h1 class="contact-title text-white text-center tracking-wide mb-8">CONTACT</h1>
			
			<!-- Barre d'information avec SVG sur toute la largeur -->
			<ContactInfoBar />
			
			<div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mt-8">
				<!-- Section gauche - Formulaire -->
				<div class="lg:col-span-2 flex flex-col">
					<Form />
				</div>
				
				<!-- Section droite - Éléments HUD -->
				<div class="flex flex-col gap-8">
					<!-- Globe avec cadre -->
					<div class="relative">
						<!-- Cadre de contact -->
						<div class="cadre-container" set:html={CadreContactSvg}></div>
						
						<!-- Globe terrestre à l'intérieur du cadre -->
						<div class="absolute top-1/5 left-1/10 transform -translate-x-1/2 -translate-y-1/2" style="margin-top: -30px;">
							<div class="globe-container w-32 h-32 flex items-center justify-center">
								<div class="globe-svg" set:html={EarthWhiteSvg}></div>
							</div>
						</div>
						
						<!-- Coordonnées géographiques en bas du cadre -->
						<div class="absolute bottom-4.5 left-1/2 transform -translate-x-1/2">
							<div class="coordinates-text text-[14 px] tracking-wide text-center whitespace-nowrap" style="font-family: var(--font-smalltext); color: var(--color-pink);">
								46° 22' 30.212" N 72° 33' 28.962" W
							</div>
						</div>
					</div>
					
					<!-- Barres d'égalisation audio -->
					<div class="flex justify-center items-end gap-1 h-20">
						<div class="bar bg-[#962EB9] w-3 h-8"></div>
						<div class="bar bg-[#962EB9] w-3 h-12"></div>
						<div class="bar bg-[#962EB9] w-3 h-6"></div>
						<div class="bar bg-[#962EB9] w-3 h-16"></div>
						<div class="bar bg-[#962EB9] w-3 h-10"></div>
						<div class="bar bg-[#962EB9] w-3 h-20"></div>
						<div class="bar bg-[#962EB9] w-3 h-14"></div>
						<div class="bar bg-[#962EB9] w-3 h-8"></div>
						<div class="bar bg-[#962EB9] w-3 h-18"></div>
					</div>
				</div>
			</div>
		</div>
	</main>
</Layout>

<style>
	/* Titre CONTACT avec police custom */
	.contact-title {
		font-family: var(--font-title1);
		font-size: clamp(72px, 12vw, 120px);
		text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
	}

	/* Animations */
	.cadre-container {
		width: 100%;
		max-width: 343px;
		margin: 0 auto;
	}
	
	.cadre-container svg {
		width: 100%;
		height: auto;
	}
	
	.globe-container {
		position: relative;
	}
	
	.globe-svg {
		width: 100px;
		height: 100px;
	}
	
	.globe-svg svg {
		width: 100%;
		height: 100%;
		filter: brightness(1.2);
	}

	/* Effet de scintillement néon pour les coordonnées */
	.coordinates-text {
		text-shadow: 
			0 0 5px var(--color-pink),
			0 0 10px var(--color-pink),
			0 0 15px var(--color-pink),
			0 0 20px var(--color-pink);
		animation: neonFlicker 2s ease-in-out infinite alternate;
	}

	@keyframes neonFlicker {
		0%, 18%, 22%, 25%, 53%, 57%, 100% {
			text-shadow: 
				0 0 5px var(--color-pink),
				0 0 10px var(--color-pink),
				0 0 15px var(--color-pink),
				0 0 20px var(--color-pink),
				0 0 35px var(--color-pink),
				0 0 40px var(--color-pink);
		}
		20%, 24%, 55% {
			text-shadow: 
				0 0 2px var(--color-pink),
				0 0 5px var(--color-pink),
				0 0 8px var(--color-pink),
				0 0 12px var(--color-pink);
		}
	}

	.bar {
		animation: barPulse 2s ease-in-out infinite;
	}

	.bar:nth-child(1) { animation-delay: 0s; }
	.bar:nth-child(2) { animation-delay: 0.1s; }
	.bar:nth-child(3) { animation-delay: 0.2s; }
	.bar:nth-child(4) { animation-delay: 0.3s; }
	.bar:nth-child(5) { animation-delay: 0.4s; }
	.bar:nth-child(6) { animation-delay: 0.5s; }
	.bar:nth-child(7) { animation-delay: 0.6s; }
	.bar:nth-child(8) { animation-delay: 0.7s; }
	.bar:nth-child(9) { animation-delay: 0.8s; }

	@keyframes barPulse {
		0%, 100% { opacity: 0.7; }
		50% { opacity: 1; }
	}
</style>