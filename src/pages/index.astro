---
import Layout from "../layouts/Layout.astro";
import HudHeader from "../components/HudHeader.astro";
import HudSidebar from "../components/HudSidebar.astro";
import HeroSection from "../components/HeroSection.astro";
import HudClock from "../components/HudClock.astro";
import GlobeCanvas from "../components/GlobeCanvas.astro";
import SectionWarningHUD from "../components/SectionWarningHUD.astro";
import CardProject from "../components/CardProject.astro";
import ProjectStatus from "../components/ProjectStatus.astro";
import SkillsDecorative from "../components/SkillsDecorative.astro";
import {
	getProjects,
	calculateProjectStats,
	formatProjectDate,
	generateProjectId,
	getProjectImageUrl,
	type Project,
} from "../lib/pocketbase";
let projects: Project[] = [];
let hasError = false;

try {
	projects = await getProjects();
} catch (error) {
	console.error("Erreur lors de la récupération des projets:", error);
	hasError = true;
}

// Fonction pour générer le slug du projet
function generateProjectSlug(project: any): string {
	return project.titre
		.toLowerCase()
		.replace(/\s+/g, "-")
		.replace(/[^a-z0-9-]/g, "");
}
---

<Layout>
	<HudHeader currentPage="home" />
	<HudSidebar />

	<main class="relative z-10">
		<HeroSection>
			<GlobeCanvas />
			<h1
				class="hero-name text-white text-center tracking-[0.15em] my-8 whitespace-nowrap relative z-[1] opacity-0 -translate-x-12"
				style="font-family: var(--font-title1); font-size: var(--size-title1);"
			>
				ANDREA MESTRE
			</h1>
			<div
				class="hero-title-wrapper flex items-center gap-8 my-4 mb-12 relative opacity-0 z-[1]"
			>
				<div
					class="title-line w-16 h-px bg-gradient-to-r from-transparent via-[--color-purple] to-transparent"
				>
				</div>
				<p class="hero-title">WEB DESIGNER</p>
				<div
					class="title-line w-16 h-px bg-gradient-to-r from-transparent via-[--color-purple] to-transparent"
				>
				</div>
			</div>
		</HeroSection>

		<section
			class="section-hidden min-h-screen flex items-center justify-center py-50 px-4 border-t mt-50"
		>
			<div class="container max-w-full mx-auto">
				<div
					class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-stretch"
				>
					<div class="relative p-4 min-h-[600px]">
						<div class="absolute inset-0 pointer-events-none">
							<img
								src="/src/assets/svg/hud_apropos.svg?v=1731340000"
								alt="HUD Apropos"
								class="w-full h-full object-fill scale-90"
							/>
						</div>

						<!-- Contenu positionné à l'intérieur du HUD -->
						<div
							class="relative z-10 h-full flex flex-col justify-center items-center space-y-5 px-10 py-12"
						>
							<h2
								class="content-item font-[family-name:var(--font-title2)] font-bold mb-8 tracking-[0.15em] text-left section-neon"
								style="color: var(--color-darkpurple); font-size: var(--size-title2);"
							>
								À PROPOS DE MOI
							</h2>

							<!-- Texte de présentation repositionné -->
							<div class="content-item space-y-5 max-w-lg">
								<p
									class="font-[family-name:var(--font-text)] --size-text text-[#E5E5E5] leading-relaxed text-left"
									style="line-height: 1.5;"
								>
									Bonjour, je m'appelle
									<span
										style="color: var(--color-pink);"
										class="tracking-wide"
										>ANDRÉA MESTRE</span
									>, je suis actuellement en 2ème année de BUT
									MMI. Passionné par le <span
										style="color: var(--color-pink);"
										>GRAPHISME</span
									>,
									<span style="color: var(--color-pink);"
										>L'AUDIOVISUEL</span
									> et le
									<span style="color: var(--color-pink);"
										>WEB DESIGN</span
									>, j'aime combiner créativité, technique et
									sensibilité artistique pour concevoir des
									projets variés et innovants.
								</p>
								<p
									class="font-[family-name:var(--font-text)] --size-text text-[#E5E5E5] leading-relaxed text-left"
									style="line-height: 1.5;"
								>
									Spécialisée en création graphique, j'ai
									également de solides compétences en
									stratégie de communication, développement
									web, UX/UI, me permettant de proposer des
									solutions créatives, innovantes et sur
									mesure.
								</p>
							</div>

							<!-- Icônes sociales et bouton CV sur la même ligne centrés -->
							<div
								class="content-item flex items-center justify-center gap-20 py-6"
							>
								<a
									href="https://www.behance.net/andramestre1"
									class="group relative w-10 h-10 border border-[--color-purple] rounded-lg bg-black/40 flex items-center justify-center transition-all duration-300 hover:border-[--color-pink] hover:scale-110 hover:shadow-lg hover:shadow-[--color-purple]/30"
								>
									<img
										src="/src/assets/icons/behance.svg?v=1731340000"
										alt="Behance"
										class="w-14 h-14 group-hover:opacity-100 transition-opacity duration-300"
									/>
									<div
										class="absolute inset-0 bg-gradient-to-r from-[--color-purple]/20 to-[--color-pink]/20 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg"
									>
									</div>
								</a>
								<a
									href="https://www.linkedin.com/in/andr%C3%A9a-mestre-476b28336/"
									class="group relative w-10 h-10 border border-[--color-purple] rounded-lg bg-black/40 flex items-center justify-center transition-all duration-300 hover:border-[--color-pink] hover:scale-110 hover:shadow-lg hover:shadow-[--color-purple]/30"
								>
									<img
										src="/src/assets/icons/linkedin.svg?v=1731340000"
										alt="LinkedIn"
										class="w-14 h-14"
									/>
									<div
										class="absolute inset-0 bg-gradient-to-r from-[--color-purple]/20 to-[--color-pink]/20 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg"
									>
									</div>
								</a>
								<a
									href="/CV_Andrea_MESTRE.pdf"
									download="CV_Andrea_MESTRE.pdf"
									class="group relative px-3 py-2 bg-gradient-to-r from-[--color-darkpurple] to-[--color-purple] border border-[--color-purple] rounded-lg font-[family-name:var(--font-text)] text-white font-bold tracking-wider overflow-hidden transition-all duration-300 hover:scale-105 hover:border-[--color-pink]"
								>
									<!-- Effet lumineux de fond -->
									<div
										class="absolute inset-0 bg-gradient-to-r from-[--color-pink]/20 to-[--color-purple]/20 opacity-0 group-hover:opacity-100 transition-opacity"
									>
									</div>

									<!-- Texte et icône -->
									<div
										class="relative z-10 flex items-center gap-2"
									>
										<svg
											class="w-2 h-2 group-hover:rotate-12 transition-transform"
											fill="currentColor"
											viewBox="0 0 20 20"
										>
											<path
												fill-rule="evenodd"
												d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"
												clip-rule="evenodd"></path>
										</svg>
										<span class="text-xs"
											>TÉLÉCHARGER MON CV</span
										>
									</div>

									<!-- Effet de scan -->
									<div
										class="absolute top-0 -left-full w-full h-full bg-gradient-to-r from-transparent via-white/20 to-transparent group-hover:left-full transition-all duration-1000"
									>
									</div>
								</a>
							</div>
						</div>
					</div>

					<!-- Cadre droit - Console de données -->
					<div class="relative h-[120px] lg:h-full">
						<!-- SVG HUD Visual en arrière-plan -->
						<div class="absolute inset-0 pointer-events-none">
							<img
								src="/src/assets/svg/hud_visual.svg?v=1731340000"
								alt="HUD Visual Data"
								class="w-full h-full object-fill scale-75"
							/>
						</div>

						<!-- Contenu superposé repositionné à l'intérieur -->
						<div
							class="relative z-5 h-full flex flex-col justify-center items-center p-3"
						>
							<!-- Signature repositionnée au centre du HUD -->
							<div class="text-center">
								<p
									class="font-[family-name:var(--font-text)] text-sm md:text-base font-bold tracking-[0.3em] text-[--color-pink]"
								>
									ANDREA MESTRE
								</p>
								<div
									class="mt-1 mx-auto w-12 h-px bg-gradient-to-r from-transparent via-[--color-pink] to-transparent"
								>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</section>

		<!-- Section Logiciels Maîtrisés - Interface Spatiale -->
		<section
			class="skills-section min-h-screen flex items-center justify-center py-50 px-4 border-t"
		>
			<div class="container max-w-full mx-auto">
				<div
					class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-stretch"
				>
					<SkillsDecorative />

					<!-- Partie droite - Logiciels maîtrisés -->
					<div class="relative h-[700px] lg:h-full">
						<!-- Contenu logiciels -->
						<div
							class="relative z-10 h-full flex flex-col justify-center items-center p-8"
						>
							<h2
								class="content-item font-[family-name:var(--font-title2)] font-bold mb-8 tracking-[0.15em] text-center section-neon"
								style="color: var(--color-darkpurple); font-size: var(--size-title2);"
							>
								LOGICIELS MAÎTRISÉS
							</h2>

							<!-- Grille de logiciels organisée par catégorie -->
							<div
								class="content-item space-y-6 w-full max-w-2xl mt-8"
							>
								<!-- Catégorie Design -->
								<div class="category-section">
									<h3
										class="category-title font-[family-name:var(--font-text)] text-sm text-[--color-purple] tracking-[0.2em] uppercase mb-4 text-center"
									>
										DESIGN
									</h3>
									<div
										class="software-row flex justify-center gap-12"
									>
										<div class="software-item group">
											<div class="software-icon-wrapper">
												<img
													src="/src/assets/icons/figma.svg?v=1731340000"
													alt="Figma"
													class="w-15 h-15 software-img"
												/>
											</div>
											<span class="software-label"
												>FIGMA</span
											>
										</div>
										<div class="software-item group">
											<div class="software-icon-wrapper">
												<img
													src="/src/assets/icons/illustrator.svg?v=1731340000"
													alt="Adobe Illustrator"
													class="w-15 h-15 software-img"
												/>
											</div>
											<span class="software-label"
												>ILLUSTRATOR</span
											>
										</div>
										<div class="software-item group">
											<div class="software-icon-wrapper">
												<img
													src="/src/assets/icons/photoshop.svg?v=1731340000"
													alt="Adobe Photoshop"
													class="w-15 h-15 software-img"
												/>
											</div>
											<span class="software-label"
												>PHOTOSHOP</span
											>
										</div>
										<div class="software-item group">
											<div class="software-icon-wrapper">
												<img
													src="/src/assets/icons/krita.svg?v=1731340000"
													alt="Krita"
													class="w-15 h-15 software-img"
												/>
											</div>
											<span class="software-label"
												>KRITA</span
											>
										</div>
									</div>
								</div>

								<!-- Catégorie Développement Web -->
								<div class="category-section">
									<h3
										class="category-title font-[family-name:var(--font-text)] text-sm text-[--color-purple] tracking-[0.2em] uppercase mb-4 text-center"
									>
										DÉVELOPPEMENT WEB
									</h3>
									<div
										class="software-row flex justify-center gap-12"
									>
										<div class="software-item group">
											<div class="software-icon-wrapper">
												<img
													src="/src/assets/icons/javascrip.svg?v=1731340000"
													alt="JavaScript"
													class="w-15 h-15 software-img"
												/>
											</div>
											<span class="software-label"
												>JAVASCRIPT</span
											>
										</div>
										<div class="software-item group">
											<div class="software-icon-wrapper">
												<img
													src="/src/assets/icons/Tailwind.svg?v=1731340000"
													alt="Tailwind CSS"
													class="w-16 h-16 software-img"
												/>
											</div>
											<span class="software-label"
												>TAILWINDCSS</span
											>
										</div>
										<div class="software-item group">
											<div class="software-icon-wrapper">
												<img
													src="/src/assets/icons/astrojs.svg?v=1731340000"
													alt="Astro.js"
													class="w-15 h-15 software-img"
												/>
											</div>
											<span class="software-label"
												>ASTRO</span
											>
										</div>
										<div class="software-item group">
											<div class="software-icon-wrapper">
												<img
													src="/src/assets/icons/wordpress.svg?v=1731340000"
													alt="WordPress"
													class="w-15 h-15 software-img"
												/>
											</div>
											<span class="software-label"
												>WORDPRESS</span
											>
										</div>
									</div>
								</div>

								<!-- Catégorie Gestion de Projet -->
								<div class="category-section">
									<h3
										class="category-title font-[family-name:var(--font-text)] text-sm text-[--color-purple] tracking-[0.2em] uppercase mb-4 text-center"
									>
										GESTION DE PROJET
									</h3>
									<div
										class="software-row flex justify-center gap-16"
									>
										<div class="software-item group">
											<div class="software-icon-wrapper">
												<img
													src="/src/assets/icons/notion.svg?v=1731340000"
													alt="Notion"
													class="w-15 h-15 software-img"
												/>
											</div>
											<span class="software-label"
												>NOTION</span
											>
										</div>
										<div class="software-item group">
											<div class="software-icon-wrapper">
												<img
													src="/src/assets/icons/miro.svg?v=1731340000"
													alt="Miro"
													class="w-15 h-15 software-img"
												/>
											</div>
											<span class="software-label"
												>MIRO</span
											>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</section>

		<section
			class="projects-section min-h-screen flex items-center justify-center py-16 px-8 border-t"
		>
			<div class="text-center max-w-4xl">
				<h2
					class="content-item font-[family-name:var(--font-title2)] text-4xl font-bold mb-8 tracking-[0.15em] text-center section-neon"
					style="color: var(--color-darkpurple);"
				>
					MES MEILLEURS PROJETS
				</h2>

				<!-- Ligne animée sous le titre -->
				<div
					class="projects-title-line-wrapper flex items-center justify-center gap-8 mb-12 relative opacity-0"
				>
					<div
						class="projects-title-line w-24 h-px bg-gradient-to-r from-transparent via-[--color-purple] to-transparent"
					>
					</div>
					<div
						class="projects-title-line w-24 h-px bg-gradient-to-r from-transparent via-[--color-purple] to-transparent"
					>
					</div>
				</div>

				<!-- Grille de cartes projets -->
				<div
					class="projects-grid flex flex-wrap justify-center gap-8 max-w-6xl mx-auto"
				>
					{
						hasError ? (
							<ProjectStatus
								type="error"
								message="Impossible de se connecter à la base de données. Vérifiez que PocketBase est en cours d'exécution sur le port 8090."
							/>
						) : projects.length > 0 ? (
							projects.slice(0, 3).map((project) => (
								<a
									href={`/projets/${generateProjectSlug(project)}`}
									class="project-card-link"
								>
									<CardProject
										title={project.titre}
										subtitle={project.etude_annee}
										description={project.resume}
										stats={calculateProjectStats(project)}
										id={generateProjectId(project)}
										date={formatProjectDate(
											project.projet_annee,
										)}
										imageUrl={getProjectImageUrl(project)}
										categories={project.categories || []}
									/>
								</a>
							))
						) : (
							<ProjectStatus
								type="empty"
								message="Aucun projet n'a été trouvé dans la base de données. Ajoutez des projets via l'interface d'administration PocketBase."
							/>
						)
					}
				</div>

				<!-- Bouton voir tous les projets -->
				<div class="flex justify-center mt-12">
					<a
						href="/projets"
						class="view-all-button group relative px-8 py-4 bg-gradient-to-r from-[--color-darkpurple] to-[--color-purple] border border-[--color-purple] rounded-lg font-[family-name:var(--font-text)] text-white font-bold tracking-wider overflow-hidden transition-all duration-300 hover:scale-105 hover:border-[--color-pink] inline-flex items-center gap-3"
					>
						<div
							class="absolute inset-0 bg-gradient-to-r from-[--color-pink]/20 to-[--color-purple]/20 opacity-0 group-hover:opacity-100 transition-opacity"
						>
						</div>

						<div class="relative z-10 flex items-center gap-3">
							<span>VOIR TOUS LES PROJETS</span>
							<svg
								class="w-5 h-5 group-hover:rotate-12 transition-transform"
								fill="currentColor"
								viewBox="0 0 20 20"
							>
								<path
									fill-rule="evenodd"
									d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"
									clip-rule="evenodd"></path>
							</svg>
						</div>

						<!-- Effet de scan -->
						<div
							class="absolute top-0 -left-full w-full h-full bg-gradient-to-r from-transparent via-white/20 to-transparent group-hover:left-full transition-all duration-1000"
						>
						</div>
					</a>
				</div>
			</div>
		</section>

		<!-- Section Contact avec système d'avertissement -->
		<section
			class="contact-section min-h-screen flex items-center justify-center py-16 px-8 border-t relative"
		>
			<div class="text-center max-w-4xl">
				<h2
					class="content-item font-[family-name:var(--font-title2)] text-4xl font-bold mb-8 tracking-[0.15em] text-center section-neon"
					style="color: var(--color-darkpurple);"
				>
					CONTACT
				</h2>
				<div class="content-item">
					<p
						class="font-[family-name:var(--font-text)] --size-text md:text-xl text-white/70 leading-relaxed mb-8"
					>
						Entrons en contact pour vos projets...
					</p>
				</div>
				<div class="content-item flex justify-center mt-12">
					<a
						href="/contact"
						class="contact-button group relative px-8 py-4 bg-gradient-to-r from-[--color-darkpurple] to-[--color-purple] border border-[--color-purple] rounded-lg font-[family-name:var(--font-text)] text-white font-bold tracking-wider overflow-hidden transition-all duration-300 hover:scale-105 hover:border-[--color-pink] inline-flex items-center gap-3"
					>
						<!-- Effet lumineux de fond -->
						<div
							class="absolute inset-0 bg-gradient-to-r from-[--color-pink]/20 to-[--color-purple]/20 opacity-0 group-hover:opacity-100 transition-opacity"
						>
						</div>

						<!-- Texte et icône -->
						<div class="relative z-10 flex items-center gap-3">
							<svg
								class="w-5 h-5"
								fill="currentColor"
								viewBox="0 0 20 20"
							>
								<path
									d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"
								></path>
								<path
									d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"
								></path>
							</svg>
							<span>ME CONTACTER</span>
						</div>

						<!-- Effet de scan -->
						<div
							class="absolute top-0 -left-full w-full h-full bg-gradient-to-r from-transparent via-white/20 to-transparent group-hover:left-full transition-all duration-1000"
						>
						</div>
					</a>
				</div>
			</div>
		</section>
	</main>

	<div class="absolute bottom-8 right-8">
		<HudClock />
	</div>

	<SectionWarningHUD />
</Layout>

<style>
	/* Animations personnalisées pour le hero */
	.hero-name {
		font-family: var(--font-title2) !important;
		font-size: var(--size-title1) !important;
		animation:
			nameSweep 1.2s ease-out 2s forwards,
			neonPulse 3s ease-in-out 3.5s infinite;
		text-shadow:
			0 0 5px #fff,
			0 0 10px rgba(184, 187, 240, 0.8),
			0 0 20px rgba(184, 187, 240, 0.6),
			0 0 40px rgba(184, 187, 240, 0.4);
	}

	@keyframes nameSweep {
		0% {
			opacity: 0;
			transform: translateX(-50px);
			filter: blur(10px);
		}
		60% {
			transform: translateX(5px);
		}
		100% {
			opacity: 1;
			transform: translateX(60px);
			filter: blur(0);
		}
	}

	@keyframes neonPulse {
		0%,
		100% {
			text-shadow:
				0 0 5px #fff,
				0 0 10px rgba(184, 187, 240, 0.8),
				0 0 20px rgba(184, 187, 240, 0.6),
				0 0 40px rgba(184, 187, 240, 0.4);
		}
		50% {
			text-shadow:
				0 0 8px #fff,
				0 0 15px rgba(184, 187, 240, 0.9),
				0 0 30px rgba(184, 187, 240, 0.7),
				0 0 50px rgba(184, 187, 240, 0.5);
		}
	}

	.hero-title-wrapper {
		animation: titleReveal 1s ease-out 3.2s forwards;
	}

	@keyframes titleReveal {
		from {
			opacity: 0;
			letter-spacing: 0.5em;
		}
		to {
			opacity: 1;
			letter-spacing: 0.3em;
		}
	}

	.title-line {
		animation: lineExpand 1.5s ease-out 3.2s backwards;
	}

	@keyframes lineExpand {
		from {
			width: 0;
		}
		to {
			width: 4rem;
		}
	}

	.title-line {
		background: linear-gradient(
			90deg,
			transparent,
			var(--color-purple),
			transparent
		) !important;
	}

	.hero-title {
		font-family: var(--font-smalltext) !important;
		font-size: clamp(14px, 2.5vw, 18px) !important;
		color: var(--color-purple) !important;
		letter-spacing: 0.3em !important;
		white-space: nowrap !important;
		text-shadow:
			0 0 10px rgba(184, 187, 240, 0.6),
			0 0 20px rgba(184, 187, 240, 0.4) !important;
		animation: textGlow 3s ease-in-out infinite !important;
	}

	@keyframes textGlow {
		0%,
		100% {
			text-shadow:
				0 0 10px rgba(184, 187, 240, 0.6),
				0 0 20px rgba(184, 187, 240, 0.4);
		}
		50% {
			text-shadow:
				0 0 15px rgba(184, 187, 240, 0.8),
				0 0 30px rgba(184, 187, 240, 0.6);
		}
	}

	/* Styles supplémentaires pour la section À Propos */
	.text-shadow-lg {
		text-shadow:
			0 0 10px rgba(184, 187, 240, 0.6),
			0 0 20px rgba(184, 187, 240, 0.4),
			0 0 30px rgba(184, 187, 240, 0.2);
	}

	/* Style neon pour les titres h2 - identique à mentions-legales */
	.section-neon {
		text-shadow:
			0 0 10px var(--color-darkpurple),
			0 0 20px var(--color-darkpurple),
			0 0 20px var(--color-darkpurple);
		animation: neonBreath 4s ease-in-out infinite;
		transition: all 0.3s ease;
	}

	@keyframes neonBreath {
		0%,
		100% {
			text-shadow:
				0 0 10px var(--color-darkpurple),
				0 0 20px var(--color-darkpurple),
				0 0 30px var(--color-darkpurple);
		}
		50% {
			text-shadow:
				0 0 15px var(--color-darkpurple),
				0 0 25px var(--color-darkpurple),
				0 0 35px var(--color-darkpurple),
				0 0 40px var(--color-purple);
		}
	}

	.section-neon:hover {
		text-shadow:
			0 0 15px var(--color-darkpurple),
			0 0 25px var(--color-darkpurple),
			0 0 35px var(--color-darkpurple),
			0 0 45px var(--color-purple);
		transform: translateY(-2px);
	}

	/* Animation pour les barres de données */
	@keyframes dataFlow {
		0% {
			opacity: 0.4;
			transform: scaleX(0.8);
		}
		50% {
			opacity: 0.9;
			transform: scaleX(1.1);
		}
		100% {
			opacity: 0.4;
			transform: scaleX(0.8);
		}
	}

	/* Effet de pulsation pour les éléments techniques */
	@keyframes techPulse {
		0%,
		100% {
			opacity: 0.6;
			box-shadow: 0 0 5px rgba(184, 187, 240, 0.3);
		}
		50% {
			opacity: 1;
			box-shadow: 0 0 15px rgba(184, 187, 240, 0.6);
		}
	}

	/* Hover effects pour les liens sociaux */
	.social-icon {
		transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
	}

	.social-icon:hover {
		transform: translateY(-2px) scale(1.05);
		box-shadow: 0 10px 25px rgba(184, 187, 240, 0.3);
	}

	/* Styles pour les sections avec révélation animée */
	.section-hidden {
		opacity: 0;
		transform: translateY(50px);
		filter: blur(5px);
		transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
		pointer-events: none;
	}

	.section-revealed {
		opacity: 1;
		transform: translateY(0);
		filter: blur(0);
		pointer-events: auto;
		animation: sectionReveal 1s ease-out forwards;
	}

	@keyframes sectionReveal {
		0% {
			opacity: 0;
			transform: translateY(50px) scale(0.95);
			filter: blur(5px);
		}
		50% {
			opacity: 0.7;
			transform: translateY(-10px) scale(1.02);
			filter: blur(2px);
		}
		100% {
			opacity: 1;
			transform: translateY(0) scale(1);
			filter: blur(0);
		}
	}

	.section-revealed .content-item {
		animation: contentItemReveal 0.6s ease-out forwards;
		opacity: 0;
		transform: translateY(30px);
	}

	.section-revealed .content-item:nth-child(1) {
		animation-delay: 0.1s;
	}
	.section-revealed .content-item:nth-child(2) {
		animation-delay: 0.2s;
	}
	.section-revealed .content-item:nth-child(3) {
		animation-delay: 0.3s;
	}

	@keyframes contentItemReveal {
		0% {
			opacity: 0;
			transform: translateY(30px);
		}
		100% {
			opacity: 1;
			transform: translateY(0);
		}
	}

	/* Styles pour la section Logiciels Maîtrisés */

	/* Animations des barres de compétences */
	@keyframes skill-bar-1 {
		0% {
			width: 0%;
			opacity: 0.5;
		}
		100% {
			width: 95%;
			opacity: 1;
		}
	}

	@keyframes skill-bar-2 {
		0% {
			width: 0%;
			opacity: 0.5;
		}
		100% {
			width: 88%;
			opacity: 1;
		}
	}

	@keyframes skill-bar-3 {
		0% {
			width: 0%;
			opacity: 0.5;
		}
		100% {
			width: 82%;
			opacity: 1;
		}
	}

	@keyframes skill-bar-4 {
		0% {
			width: 0%;
			opacity: 0.5;
		}
		100% {
			width: 75%;
			opacity: 1;
		}
	}

	.animate-skill-bar-1 {
		animation: skill-bar-1 2s ease-out 0.5s forwards;
		width: 0%;
	}

	.animate-skill-bar-2 {
		animation: skill-bar-2 2s ease-out 0.8s forwards;
		width: 0%;
	}

	.animate-skill-bar-3 {
		animation: skill-bar-3 2s ease-out 1.1s forwards;
		width: 0%;
	}

	.animate-skill-bar-4 {
		animation: skill-bar-4 2s ease-out 1.4s forwards;
		width: 0%;
	}

	/* Styles pour les icônes de logiciels */
	.software-item {
		display: flex;
		flex-direction: column;
		align-items: center;
		gap: 12px;
		transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
		cursor: pointer;
	}

	.software-icon-wrapper {
		display: flex;
		align-items: center;
		justify-content: center;
		padding: 12px;
		transition: all 0.3s ease;
	}

	.software-item:hover .software-icon-wrapper {
		transform: translateY(-4px) scale(1.1);
	}

	.software-img {
		filter: brightness(0.9) saturate(0.95);
		transition: all 0.3s ease;
		drop-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
	}

	.software-item:hover .software-img {
		filter: brightness(1.1) saturate(1.05);
		drop-shadow: 0 8px 16px rgba(97, 84, 197, 0.4);
	}

	.software-label {
		font-family: var(--font-text);
		font-size: 12px;
		font-weight: 600;
		color: var(--color-purple);
		text-align: center;
		letter-spacing: 0.05em;
		transition: all 0.3s ease;
		white-space: nowrap;
	}

	.software-item:hover .software-label {
		color: var(--color-pink);
		transform: translateY(-2px);
	}

	/* Styles pour les catégories de logiciels */
	.category-section {
		margin-bottom: 32px;
		padding: 16px 0;
	}

	.category-title {
		position: relative;
		padding-bottom: 8px;
		margin-bottom: 20px;
	}

	.category-title::after {
		content: "";
		position: absolute;
		bottom: 0;
		left: 50%;
		transform: translateX(-50%);
		width: 60px;
		height: 1px;
		background: linear-gradient(
			90deg,
			transparent,
			var(--color-purple),
			transparent
		);
	}

	.software-row {
		display: flex;
		justify-content: center;
		align-items: center;
		gap: 48px;
		flex-wrap: wrap;
	}

	/* Ajustement pour la catégorie Gestion de Projet (seulement 2 icônes) */
	.category-section:last-child .software-row {
		gap: 64px;
	}

	/* Animation d'apparition pour les icônes */
	.software-item {
		opacity: 0;
		transform: translateY(20px);
		animation: software-item-reveal 0.6s ease-out forwards;
	}

	.software-item:nth-child(1) {
		animation-delay: 0.1s;
	}
	.software-item:nth-child(2) {
		animation-delay: 0.2s;
	}
	.software-item:nth-child(3) {
		animation-delay: 0.3s;
	}
	.software-item:nth-child(4) {
		animation-delay: 0.4s;
	}

	@keyframes software-item-reveal {
		0% {
			opacity: 0;
			transform: translateY(20px);
		}
		100% {
			opacity: 1;
			transform: translateY(0);
		}
	}

	/* Effet de pulsation sur les barres de compétences */
	.section-revealed .animate-skill-bar-1,
	.section-revealed .animate-skill-bar-2,
	.section-revealed .animate-skill-bar-3,
	.section-revealed .animate-skill-bar-4 {
		box-shadow:
			0 0 10px var(--color-purple),
			0 0 20px rgba(184, 187, 240, 0.3);
		animation-fill-mode: forwards;
	}

	/* Responsive pour la section logiciels */
	@media (max-width: 768px) {
		.software-icon-wrapper {
			padding: 8px;
		}

		.software-img {
			width: 56px;
			height: 56px;
		}

		.software-label {
			font-size: 10px;
		}

		.software-row {
			gap: 24px;
		}

		.category-section:last-child .software-row {
			gap: 32px;
		}
	}

	/* Styles pour la section Skills avec animation */
	.skills-section {
		opacity: 0;
		transform: translateY(50px);
		transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
	}

	.skills-section.skills-revealed {
		opacity: 1;
		transform: translateY(0);
		animation: skillsSectionReveal 1s ease-out forwards;
	}

	@keyframes skillsSectionReveal {
		0% {
			opacity: 0;
			transform: translateY(50px) scale(0.95);
		}
		50% {
			opacity: 0.7;
			transform: translateY(-10px) scale(1.02);
		}
		100% {
			opacity: 1;
			transform: translateY(0) scale(1);
		}
	}

	.skills-revealed .content-item {
		animation: skillsContentReveal 0.6s ease-out forwards;
		opacity: 0;
		transform: translateY(30px);
	}

	.skills-revealed .content-item:nth-child(1) {
		animation-delay: 0.1s;
	}
	.skills-revealed .content-item:nth-child(2) {
		animation-delay: 0.2s;
	}
	.skills-revealed .content-item:nth-child(3) {
		animation-delay: 0.3s;
	}

	@keyframes skillsContentReveal {
		0% {
			opacity: 0;
			transform: translateY(30px);
		}
		100% {
			opacity: 1;
			transform: translateY(0);
		}
	}

	/* Styles pour la section Projets */
	.projects-section {
		opacity: 0;
		transform: translateY(50px);
		transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
	}

	.projects-section.projects-revealed {
		opacity: 1;
		transform: translateY(0);
		animation: projectsSectionReveal 1s ease-out forwards;
	}

	@keyframes projectsSectionReveal {
		0% {
			opacity: 0;
			transform: translateY(50px) scale(0.95);
		}
		50% {
			opacity: 0.7;
			transform: translateY(-10px) scale(1.02);
		}
		100% {
			opacity: 1;
			transform: translateY(0) scale(1);
		}
	}

	.projects-revealed .content-item {
		animation: projectsContentReveal 0.6s ease-out forwards;
		opacity: 0;
		transform: translateY(30px);
	}

	.projects-revealed .content-item:nth-child(1) {
		animation-delay: 0.1s;
	}
	.projects-revealed .content-item:nth-child(2) {
		animation-delay: 0.2s;
	}
	.projects-revealed .content-item:nth-child(3) {
		animation-delay: 0.3s;
	}

	@keyframes projectsContentReveal {
		0% {
			opacity: 0;
			transform: translateY(30px);
		}
		100% {
			opacity: 1;
			transform: translateY(0);
		}
	}

	/* Animation de la ligne sous le titre des projets */
	.projects-title-line-wrapper {
		animation: projectsTitleLineReveal 1s ease-out 0.5s forwards;
	}

	@keyframes projectsTitleLineReveal {
		from {
			opacity: 0;
		}
		to {
			opacity: 1;
		}
	}

	.projects-title-line {
		animation: projectsLineExpand 1.5s ease-out 0.8s backwards;
		background: linear-gradient(
			90deg,
			transparent,
			var(--color-purple),
			transparent
		) !important;
	}

	@keyframes projectsLineExpand {
		from {
			width: 0;
		}
		to {
			width: 6rem;
		}
	}

	/* Animation pour les éléments décoratifs */
	@keyframes rotate {
		0% {
			transform: rotate(0deg);
		}
		100% {
			transform: rotate(360deg);
		}
	}

	/* Animation pulsante avec variation de luminosité */
	@keyframes pulse-glow {
		0%,
		100% {
			opacity: 0.7;
			filter: drop-shadow(0 0 10px rgba(184, 187, 240, 0.4));
		}
		50% {
			opacity: 1;
			filter: drop-shadow(0 0 25px rgba(184, 187, 240, 0.8));
		}
	}

	/* Styles pour le bouton "Voir tous les projets" */
	.view-all-button {
		box-shadow:
			0 0 20px rgba(184, 187, 240, 0.3),
			inset 0 0 10px rgba(184, 187, 240, 0.1);
		animation: buttonPulse 2s ease-in-out infinite;
		opacity: 0;
		transform: translateY(30px);
		animation-delay: 0.5s;
		animation-fill-mode: both;
	}

	@keyframes buttonPulse {
		0%,
		100% {
			box-shadow:
				0 0 20px rgba(184, 187, 240, 0.3),
				inset 0 0 10px rgba(184, 187, 240, 0.1);
		}
		50% {
			box-shadow:
				0 0 30px rgba(184, 187, 240, 0.5),
				inset 0 0 15px rgba(184, 187, 240, 0.2);
		}
	}

	.projects-revealed .view-all-button {
		animation:
			buttonReveal 1s ease-out 1s forwards,
			buttonPulse 2s ease-in-out 2s infinite;
	}

	@keyframes buttonReveal {
		0% {
			opacity: 0;
			transform: translateY(30px);
		}
		100% {
			opacity: 1;
			transform: translateY(0);
		}
	}

	/* Styles pour la section Contact */
	.contact-section {
		opacity: 0;
		transform: translateY(50px);
		transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
	}

	.contact-section.contact-revealed {
		opacity: 1;
		transform: translateY(0);
		animation: contactSectionReveal 1s ease-out forwards;
	}

	@keyframes contactSectionReveal {
		0% {
			opacity: 0;
			transform: translateY(50px) scale(0.95);
		}
		50% {
			opacity: 0.7;
			transform: translateY(-10px) scale(1.02);
		}
		100% {
			opacity: 1;
			transform: translateY(0) scale(1);
		}
	}

	.contact-revealed .content-item {
		animation: contactContentReveal 0.6s ease-out forwards;
		opacity: 0;
		transform: translateY(30px);
	}

	.contact-revealed .content-item:nth-child(1) {
		animation-delay: 0.1s;
	}
	.contact-revealed .content-item:nth-child(2) {
		animation-delay: 0.2s;
	}
	.contact-revealed .content-item:nth-child(3) {
		animation-delay: 0.3s;
	}

	@keyframes contactContentReveal {
		0% {
			opacity: 0;
			transform: translateY(30px);
		}
		100% {
			opacity: 1;
			transform: translateY(0);
		}
	}

	/* Bouton de contact */
	.contact-button {
		box-shadow:
			0 0 20px rgba(184, 187, 240, 0.3),
			inset 0 0 10px rgba(184, 187, 240, 0.1);
		animation: contactButtonPulse 2s ease-in-out infinite;
	}

	@keyframes contactButtonPulse {
		0%,
		100% {
			box-shadow:
				0 0 20px rgba(184, 187, 240, 0.3),
				inset 0 0 10px rgba(184, 187, 240, 0.1);
		}
		50% {
			box-shadow:
				0 0 30px rgba(184, 187, 240, 0.5),
				inset 0 0 15px rgba(184, 187, 240, 0.2);
		}
	}
</style>

<script>
	// Gestion de l'animation de la section Skills au scroll
	document.addEventListener("DOMContentLoaded", () => {
		const skillsSection = document.querySelector(".skills-section");
		const projectsSection = document.querySelector(".projects-section");
		const contactSection = document.querySelector(".contact-section");
		let skillsAnimated = false;
		let projectsAnimated = false;
		let contactAnimated = false;

		const observerOptions = {
			threshold: 0.3, // Déclencher quand 30% de la section est visible
			rootMargin: "0px 0px -50px 0px",
		};

		const observer = new IntersectionObserver((entries) => {
			entries.forEach((entry) => {
				if (entry.isIntersecting) {
					if (
						entry.target.classList.contains("skills-section") &&
						!skillsAnimated
					) {
						entry.target.classList.add("skills-revealed");
						skillsAnimated = true;

						// Déclencher l'événement personnalisé
						const event = new CustomEvent("skillsSectionRevealed");
						window.dispatchEvent(event);
					}

					if (
						entry.target.classList.contains("projects-section") &&
						!projectsAnimated
					) {
						entry.target.classList.add("projects-revealed");
						projectsAnimated = true;

						// Déclencher l'événement personnalisé
						const event = new CustomEvent(
							"projectsSectionRevealed",
						);
						window.dispatchEvent(event);
					}

					if (
						entry.target.classList.contains("contact-section") &&
						!contactAnimated
					) {
						entry.target.classList.add("contact-revealed");
						contactAnimated = true;

						// Déclencher l'événement personnalisé
						const event = new CustomEvent("contactSectionRevealed");
						window.dispatchEvent(event);
					}
				}
			});
		}, observerOptions);

		if (skillsSection) {
			observer.observe(skillsSection);
		}

		if (projectsSection) {
			observer.observe(projectsSection);
		}

		if (contactSection) {
			observer.observe(contactSection);
		}
	});
</script>
